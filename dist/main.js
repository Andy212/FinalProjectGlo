(()=>{"use strict";(()=>{const e=document.querySelectorAll(".header a"),t=document.querySelector(".quest-section a"),o=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay"),c=document.querySelector(".modal-close"),s=document.querySelectorAll(".element a"),n=()=>{l.style.display="none",o.style.display="none"},r=()=>{l.style.display="block",o.style.display="block"};for(let e=0;e<s.length;e++)s[e].addEventListener("click",(()=>{r()}));e[1].addEventListener("click",(()=>{r()})),t.addEventListener("click",(()=>{r()})),l.addEventListener("click",(()=>{n()})),c.addEventListener("click",(()=>{n()}))})(),(()=>{const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();const o=t.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}));const t=document.querySelector(".up"),o=()=>{window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(o,0))};window.addEventListener("scroll",(()=>{let e=window.pageYOffset,o=document.documentElement.clientHeight;e>o&&t.classList.add("up-show"),e<o&&t.classList.remove("up-show")})),t.addEventListener("click",o)})(),(()=>{const e=document.querySelectorAll(".item");let t,o=0,l=e[o];const c=()=>{l.style.display="none",o++,o>=e.length&&(o=0),l=e[o],l.style.display="block"};((e=3e3)=>{t=setInterval(c,e)})()})(),(()=>{const e=document.querySelectorAll(".carouselSlide"),t=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right");let l=0;const c=()=>{for(let t=0;t<e.length;t++)t>=l&&t<=l+2?e[t].classList.add("activeCarousel"):e[t].classList.remove("activeCarousel")};t.addEventListener("click",(()=>{l-1>=0&&(l--,c())})),o.addEventListener("click",(()=>{l+3<e.length&&(l++,c())}))})(),(()=>{const e=document.querySelectorAll(".acc");e.forEach((t=>{t.addEventListener("click",(o=>{t.classList.contains("active")?t.classList.remove("active"):(e.forEach((e=>{e.classList.remove("active")})),o.target.closest(".acc").classList.add("active"))}))}))})(),(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),o=e=>{const t=e.target;t.matches(".tel")&&(t.value=t.value.replace(/[^+\d]/g,"")),t.matches(".form-name")&&(t.value=t.value.replace(/[^А-яёЁ]/giu,""))};(l=>{const c=document.getElementById(l),s=document.createElement("div"),n=e=>{s.textContent={load:{message:" Идет отправка..."},error:{message:" Ошибка..."},success:{message:" Отправлено!"}}[e].message};s.style.cssText="font-size: 3rem; color: rgb(0, 0, 0); position: relative; left: 30%; ",c.addEventListener("submit",(o=>{o.preventDefault();const l=document.querySelector(".form-name"),r=document.querySelector(".tel");let a=l.value,d=r.value;var i;a.length<2||d.length<7||(n("load"),c.appendChild(s),setTimeout((()=>{s.remove()}),6e3),(i=Object.fromEntries(new FormData(c)),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).then((o=>{if(200!==o.status)throw new Error(`Status network ${request.status}`);n("success"),[...document.getElementById("formSend").elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type)).forEach((e=>e.value="")),setTimeout((()=>{t.style.display="none",e.style.display="none"}),5e3)})).catch((e=>{n("error"),console.error(e)})))})),c.addEventListener("input",o)})("formSend")})()})();