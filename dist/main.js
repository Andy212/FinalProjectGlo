(()=>{"use strict";(()=>{const e=document.querySelectorAll(".header a"),t=document.querySelector(".quest-section a"),o=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay"),s=document.querySelector(".modal-close"),c=document.querySelectorAll(".element a"),r=()=>{l.style.display="none",o.style.display="none"},n=()=>{l.style.display="block",o.style.display="block"};for(let e=0;e<c.length;e++)c[e].addEventListener("click",(()=>{n()}));e[1].addEventListener("click",(()=>{n()})),t.addEventListener("click",(()=>{n()})),l.addEventListener("click",(()=>{r()})),s.addEventListener("click",(()=>{r()}))})(),(()=>{const e=document.querySelectorAll('a[href*="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();const o=t.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}));const t=document.querySelector(".up"),o=()=>{window.pageYOffset>0&&(window.scrollBy(0,-30),setTimeout(o,0))};window.addEventListener("scroll",(()=>{let e=window.pageYOffset,o=document.documentElement.clientHeight;e>o&&t.classList.add("up-show"),e<o&&t.classList.remove("up-show")})),t.addEventListener("click",o)})(),(()=>{const e=document.querySelectorAll(".item");let t,o=0,l=e[o];const s=()=>{l.style.display="none",o++,o>=e.length&&(o=0),l=e[o],l.style.display="block"};((e=3e3)=>{t=setInterval(s,e)})()})(),(()=>{const e=document.querySelectorAll(".carouselSlide"),t=document.querySelector(".arrow-left"),o=document.querySelector(".arrow-right");let l=0;const s=()=>{for(let t=0;t<e.length;t++)t>=l&&t<=l+2?e[t].classList.add("activeCarousel"):e[t].classList.remove("activeCarousel")};t.addEventListener("click",(()=>{l-1>=0&&(l--,s())})),o.addEventListener("click",(()=>{l+3<e.length&&(l++,s())}))})(),(()=>{const e=document.querySelectorAll(".acc");e.forEach((t=>{t.addEventListener("click",(t=>{e.forEach((e=>{e.classList.remove("active")})),t.target.closest(".acc").classList.add("active")}))}))})(),(()=>{const e=e=>{const t=e.target;t.matches(".tel")&&(t.value=t.value.replace(/[^+\d]/g,"")),t.matches(".form-name")&&(t.value=t.value.replace(/[^А-яёЁ]/giu,""))};(t=>{const o=document.getElementById(t),l=document.createElement("div"),s=e=>{l.textContent={load:{message:" Идет отправка..."},error:{message:" Ошибка..."},success:{message:" Отправлено!"}}[e].message};l.style.cssText="font-size: 3rem; color: rgb(0, 0, 0); position: relative; left: 30%; ",o.addEventListener("submit",(e=>{var t;e.preventDefault(),s("load"),o.appendChild(l),setTimeout((()=>{l.remove()}),6e3),(t=Object.fromEntries(new FormData(o)),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).then((e=>{if(200!==e.status)throw new Error(`Status network ${request.status}`);s("success"),[...document.getElementById("formSend").elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type)).forEach((e=>e.value=""))})).catch((e=>{s("error"),console.error(e)}))})),o.addEventListener("input",e)})("formSend")})()})();